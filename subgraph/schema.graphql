type System @entity(immutable: false) {
  id: ID!
  totalParticipants: Int!
  totalEligibleParticipants: Int!

  totalMetisStakedByAll: BigInt!
  totalArtMetisLockedByAll: BigInt!
  totalActionsCountByAll: BigInt!

  totalUnlockActionsByAll: BigInt!
  totalArtMetisUnlockedByAll: BigInt!
}

type StakedAndLocked @entity(immutable: false) {
  id: String!
  actionId: BigInt!
  user: String!
  metisAmount: BigInt!
  artMetisAmount: BigInt!
  referralId: String!
  unlockTime: BigInt!
  stakedAndLockedTransactionHash: Bytes!
  stakedAndLockedEventLogIndex: BigInt!
  stakedAndLockedBlockNumber: BigInt!
  stakedAndLockedBlockTimestamp: BigInt!
  unlockedTransactionHash: Bytes
  unlockedEventLogIndex: BigInt
  unlockedBlockNumber: BigInt
  unlockedBlockTimestamp: BigInt
  unlocked: Boolean!
}

type Participant @entity(immutable: false) {
  id: Bytes!
  address: String!
  totalMetisAmount: BigInt!
  totalArtMetisAmount: BigInt!
  totalActionsCount: BigInt!
  firstBlockNumber: BigInt!
  lastBlockNumber: BigInt!
}

# this entity is to ease ranking on the frontend as the number of unique values users will stake is low
type CountByMetisAmountStaked @entity(immutable: false) {
  id: String!
  amount: BigInt!
  count: Int!
}

